

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Performance &mdash; EPICS support for quad electrometers/picoammeters</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/my_theme.css?v=254ed751" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Setup" href="setup.html" />
    <link rel="prev" title="Streaming data to disk" href="streaming.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            quadEM
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="averaging.html">Averaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="tetramm_modes.html">TetrAMM Acquisition Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tetramm_scanning.html">Scanning with the TetrAMM</a></li>
<li class="toctree-l1"><a class="reference internal" href="feedback.html">Using Feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="streaming.html">Streaming data to disk</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Performance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ah401b">AH401B</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tetramm">TetrAMM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">quadEM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Performance</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/performance.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="performance">
<h1>Performance<a class="headerlink" href="#performance" title="Link to this heading"></a></h1>
<section id="ah401b">
<h2>AH401B<a class="headerlink" href="#ah401b" title="Link to this heading"></a></h2>
<p>The following table shows the CPU utilization of a Linux machine (Xeon E5630 2.53GHz,
8 cores), and vxWorks MVME5100, with the AH401B electometer. The CPU load was measured
under the following conditions. This is the maximum data rate of the AH401B and
the time series waveform records and FFTs are processing at 1 Hz.</p>
<ul class="simple">
<li><p>ValuesPerRead=1</p></li>
<li><p>IntegrationTime=0.001</p></li>
<li><p>PingPoing=Yes</p></li>
<li><p>AveragingTime=0.1</p></li>
<li><p>NumChannels=4</p></li>
<li><p>ReadFormat=Binary4</p></li>
<li><p>Time series plugin</p>
<ul>
<li><p>Plugin enabled</p></li>
<li><p>TSNumPoints=2048</p></li>
<li><p>TSAveragingTime=0.001</p></li>
<li><p>TSRead.SCAN=1 second</p></li>
<li><p>TSAcquireMode=Circular Buffer</p></li>
</ul>
</li>
<li><p>FFT plugins enabled</p></li>
</ul>
<table class="table-bordered table-striped table-hover docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>System</p></th>
<th class="head"><p>%CPU time</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Linux Xeon</p></td>
<td><p>6%</p></td>
</tr>
<tr class="row-odd"><td><p>LMVME5100</p></td>
<td><p>15%</p></td>
</tr>
</tbody>
</table>
<p>It can be seen that the load on the Linux machine is only 6% of a single core, while
the load on the MVME5100 is 15%.</p>
</section>
<section id="tetramm">
<h2>TetrAMM<a class="headerlink" href="#tetramm" title="Link to this heading"></a></h2>
<p>The following table shows the CPU utilization of the Linux machine and vxWorks MVME5100,
with the TetrAMM electometer. The CPU load was measured under the following conditions.
ValuesPerRead=5 is the maximum data rate of the AH401B and the time series waveform
records and FFTs are processing at 1 Hz.</p>
<ul class="simple">
<li><p>ValuesPerRead=5, 10, 20, 50, 100</p></li>
<li><p>AveragingTime=0.1</p></li>
<li><p>NumChannels=4</p></li>
<li><p>ReadFormat=Binary4</p></li>
<li><p>Time series plugin</p>
<ul>
<li><p>Plugin enabled</p></li>
<li><p>TSNumPoints=2048</p></li>
<li><p>TSAveragingTime=0.001</p></li>
<li><p>TSRead.SCAN=1 second</p></li>
<li><p>TSAcquireMode=Circular Buffer</p></li>
</ul>
</li>
<li><p>FFT plugins enabled</p></li>
</ul>
<table class="table-bordered table-striped table-hover docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>System</p></th>
<th class="head"><p>ValuesPerRead</p></th>
<th class="head"><p>%CPU time</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Linux Xeon</p></td>
<td><p>5</p></td>
<td><p>14%</p></td>
</tr>
<tr class="row-odd"><td><p>Linux Xeon</p></td>
<td><p>10</p></td>
<td><p>9%</p></td>
</tr>
<tr class="row-even"><td><p>Linux Xeon</p></td>
<td><p>20</p></td>
<td><p>6%</p></td>
</tr>
<tr class="row-odd"><td><p>Linux Xeon</p></td>
<td><p>50</p></td>
<td><p>4%</p></td>
</tr>
<tr class="row-even"><td><p>MVME5100</p></td>
<td><p>5</p></td>
<td><p>100%</p></td>
</tr>
<tr class="row-odd"><td><p>MVME5100</p></td>
<td><p>10</p></td>
<td><p>49%</p></td>
</tr>
<tr class="row-even"><td><p>MVME5100</p></td>
<td><p>20</p></td>
<td><p>22%</p></td>
</tr>
<tr class="row-odd"><td><p>MVME5100</p></td>
<td><p>50</p></td>
<td><p>11%</p></td>
</tr>
<tr class="row-even"><td><p>MVME5100</p></td>
<td><p>100</p></td>
<td><p>5%</p></td>
</tr>
</tbody>
</table>
<p>It can be seen that the worst-case load on the Linux machine is only 14% of a single
core, while the load on the MVME5100 is 100% when ValuesPerRead=5. Using ValuesPerRead=20
or greater uses less than 22% of the CPU on the MVME5100, which is probably reasonable
in practice. That value still produces 5 kHz updates for time-series and fast feedback.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="streaming.html" class="btn btn-neutral float-left" title="Streaming data to disk" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="setup.html" class="btn btn-neutral float-right" title="Setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Mark Rivers.
      <span class="lastupdated">Last updated on 2025-November-27.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>